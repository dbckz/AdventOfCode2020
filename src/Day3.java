import java.util.ArrayList;
import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.Stream;

public class Day3 {

    private int calculate(char[][] input, int xShift, int yShift) {
        int numTrees = 0;
        int currentX = 0;
        int currentY = 0;
        int modulo = input.length;
//        System.out.println(modulo);
        while (currentY < input[0].length - 1) {
            currentX = (currentX + xShift) % modulo;
            currentY += yShift;
//            System.out.println("X: " + currentX);
//            System.out.println("Y: " + currentY);
            if (input[currentX][currentY] == '1') {
                numTrees++;
            }
        }
        return numTrees;
    }

    public static void main(String[] args) {
        String input = "0100000000000000110000101011110,1100000000001000001100000000000,0000000100001100000000000101000,0000000001010001000000000010000,0000000001001000000000000000011,0010001001001000000000001000000,0000000000000000000100011001100,0000000010000011000101010001000,1001011000000101001000000000010,0000001010001010001000000001101,0000010111100000000100000000000,0001110010000000000001000000000,0000010000000110000001000100000,1000000110000000000000000000000,0000001000000000000001000000000,0011000100001110110000000000000,1000100000000001010000000001000,0000000000010000000010001000000,0000011000000000100000010010000,1000000000000001000010000010000,0100000010000100010000000000001,0111100000000001100101000000000,0000100010000000000000000000000,0000000000000000000010000101000,0000000000111010000000000000001,0100000000000100011000000000000,0101001000001000100001000000010,0110000000010010000100000000000,0000000001000001000000111000000,0000000000000010010000000100000,0000000010010100000000000100100,1000000000100000010000011010100,0000000010101000010000000000000,0000000010000000010101100000000,1000000101000000000010010000000,0010000100011000000111001001000,0000000000001001010000000001000,0000101000000000001000000000011,0000000101010010000001000100000,0010000000001101000000000100010,0000001000010100001000000001010,0100001110000100000000000000100,0100001000000010000100100000100,0000010000010000000000000000000,0010000010000001000000100000000,0000001101100010001000100010110,1100010000100010010001000100000,0010000010001000110110001000000,0000010000000000000110001000000,0000000000000000000001011001000,1000100001000010000000010000010,0010001000000000100010010000010,1010000001000000000000000000010,0010000000000011000000000000000,0010000100000000100100000000000,0000000000010000000000000000000,0000000000000111000000100001000,0000000000010001000010010000100,0000011000000000000101000000010,0000010010000100010000100000000,0000000000000001100000000101000,0000000001000101000010000000100,1001000000010000000100010000000,0010000000000000000000000000001,0000001000000010010000001000000,0100000001000000000000000000110,0010000000001001011010000100011,0001001000010001000010100000000,0100010000000011001001000000010,0000010000000010000100001001000,0000000000001000000000001000000,0011100000001001000010000001000,0000010001000000010010000000000,0010000000011010000110000000000,1000010000000000000100110000001,0000100000000000000000110000000,0001000000010000000010000110101,1100110010000010000010000000000,0001000000000000000100001001000,0100011000010000100000100001100,0001000001000000100000010000000,1000001000000011000001001000011,0000010100011010000001100001010,0000000000100001010001000000000,0100110001000000000000000000000,0000000000011001000100001000000,0001000000100000000100000001000,0100000010010000000010000010010,0000000100000000110010110000100,0110000000000100100010000010000,0000011000000000000000101000000,0011000001001000000100110101000,0000100000010110000000000010000,1010010000000100000010100000000,0001010010000100000000000010010,0001000000000011100001000010001,0000000011000100000001001000010,0010001000001001000000001100000,0001001011010101100000000000000,0000000100010000000001000001001,0010000010100000000001001000000,0000001000000000010000001000001,0100000000000100000000100000011,0011000000000000100000010001001,1000000000000000000100000000000,1000010010000000001000000001001,0010100001110010001000110001100,0001000010010000010000000000000,0100000000110110001000010001000,0000000001000000011010000011000,1010000011000100000000100010001,0000010101100010000010110010000,0000000010001100010001010010010,0110000101100010000000100000000,0001001000000000000000010010000,0000100000001000000100010110000,1000000111001000100000010000000,0010001000110000000000011000000,0000000100010011000011000000100,0000101000000000000010100011001,0000000000100000000100010000001,0000000000001010100001110000000,1001000101011110001001000100000,0110000000101100010000000000000,1001000000000001010110000000100,0001001010001000111001010010100,0010001000001001000010000100000,0000000001100000001000000000000,0000000001101100000011100000000,0000000000000101000010010000010,0001000010100000001000000110000,0000000000001000000000000000000,0000110001000000000010001001000,1001000010000010000000101101001,0000010000000001100000000000001,1000001010001000000000000110011,0000000000000010000100000100000,0100001110010100000111010010000,0000010000110001000010000001000,0000000000100010000100000000000,0000000000001000010010000000001,0011000001010001000000010001000,0001000100100000011000100000110,0000001011000000000000110100001,0000100000010001100000100000111,0101110000000000000001000101000,0010000000000000000000011000100,0000000100000110000000000010000,1000000000100001000010000100001,0010100110101000000000000000000,0000010000000100000000000000001,0000000000010000000100000000100,1000100000000010100000100000100,0000000000100100000000000100000,1001011001100101011000000000100,1001001000011001000000000100000,1010000000000000000000000010100,0110000001010001000000100001000,0010100000000000000001001100000,0000000100000000000000000010001,0000010000000001101000010000000,1000000000010010100000000001001,0010010000010000000001000100000,0000000000000010000010010001011,0000000000000000000000000000000,0001000000000000110000001000001,0000000100100000000000001010000,0000000000010000000000100000000,0001011110010000001000100001000,1100000010110000010000000000000,0000100000000010001000000000001,0001000000001000000010100101010,0010000000100000000010000100000,0000000000000000101010110001001,1011000100010010000010000010010,0000000000000001000000000001000,0000011010000000000000001100010,0100110110000000000000000000000,0000000100000000010010010000000,0001000000100000000000000000010,0001010010000100001000000000000,0000000000010001001000011000000,0000010001001010000100001000010,0000000100010001010100000000000,0000100000010000001000110010000,1100010100000100101100000000000,1010010000010010000000000000000,0001001010000001010000000000011,1100001000100000111001000100001,0001000001010100000011000100010,0000000000001000000010000000000,0000100000000001110000000100000,0000000000000000011001100001000,0000000000010000000011001000000,0001010001000001000000001000100,1000101000000101000000000001000,0010000000000100001000000000010,0010000000000000000100000000000,1000101000010100000001000000000,0100000000000110010000100001001,0110000000010000010001001000010,0000001000000100010000000000000,0000000100100010110000100101000,0000000100000010000100001010100,0000000000110000010000110100000,0000000001100100010000010010000,0001000010000000000100100010010,0000000100000110100100000100010,1000100000010000001000100000000,1001000010100000010000001000000,0000000101100000000000000000000,0001100010000010000001100000010,0100000000000000000001110000000,0000100000000111000100000000100,0001000000000000100000100100000,0000000000000000001000000100001,0011000000100110011000000101000,0000000011000011000000010001000,0101000010000010000010000100001,0001101000000000000010000110000,0000000001000001000100000010000,0010000010000000000001000011000,0011000001000001101100000000000,1000010100000001001000000100000,1100000001000001000001111000010,1100010000000100010000010000000,1000001001101100011001000001001,0000000000100000010010100000000,0011010000001000000000000001000,0100010000000000100000001000010,0010000110001000000000001000010,0010000000001001000000100000010,0110000100000010100000000010011,0000000100010000110000000000001,0110000000000000000010100000000,0001010001001001000001010000000,0101000000010000000000000000000,0010010000010000001000001100110,0100000000101100000010000000000,0000110001000000000000101000010,0000000101001000011010000100001,0000001111000100100000100000000,0000000000100100000000010100101,0000000000110000000001011000000,0110010100000100000100001000000,0000000000001001000000000000000,0000011000000000100010001100011,0000000010110100010000010000101,1000000110101100000000001100000,1001001000000001000000000100100,0000000000000001010011000000000,0100000001101001000010001000011,0100110000011000000100001000101,0000000010001000000000100000101,0000000000010000000000001000100,0000000000000000100000000000100,0000000000000011000000001000010,0000000000100000110000010010000,1000000100001110010010000000000,0000010100000110000101000000010,0001000100000000000000010100000,0000000000000100000001000000000,0000010000010010000001000001000,0000000001000000000000000001011,0100000101100100000000000000000,0010000001000000010000010001001,0010010101000100000001011000000,0000000000100100000000010000000,0100000000001000100001001000110,0101010111000001000101010000000,0000110000000000001000000000000,0101000000000000010010000001010,0101000000000011001000001001010,0000000000010110010001010000010,0000000000010010000100000000000,0010000000000000000101000100001,0000000000000001100000000110000,0000100000000000001000000001000,0001000000101010000000010000000,1000000000000001001101001100000,0101011100000000000000001100000,0000000000000100100000000010000,0000000110010000000000001000100,0001000100000000000100000100000,0000000010000001010100000010010,1011000000010000001001001010000,0001000000001000000000001000100,0010000000000010000000001000000,0000000000000100001000010000000,0000100000000010000000010000001,0010000000000001100100000000010,0100010001001000100000000100100,0001000011000000000000001000000,0000000000010001000010101100111,0010000100000010000000001001000,0000000100010000000000000000000,0100010100000000000000000001000,0100000110100000001010100011001,0000010010100000000010001001100,0100101101000000100000010100010,0000001001000011001000011000011,1000100000011000000001100000000,0100000000011100000000000000001,0000000000000000010011100101000,0010100000000100100000000100010,1010000100001001000101000000100,0101000000000000011100000000010,0000010000000000000001100010001,0000000000000010001000000001001,0000000000000000000100100000001,1000000000000000000000010000010,0001000000000100110001000101100,0000010000000000100000000010000,0000010001000000000000100100000,0000000000000100000000000010000,0001000000000100000000000000000,1000000000001010000000000000001,0000010001000001001011000000011,0001000010100000000000100000000,0000000000000000000000000101000,0100100000000000101000000001000,0000000000000101000001001000010,0000010001011100010010000000010";
//        String input = "00110000000,10001000100,01000010010,00101000101,01000110010,00101100000,01010100001,01000000001,10110001000,10001100001,01001000101";
        List<String> inputList =
                Stream.of(input.split(","))
                        .map(String::trim)
                        .collect(Collectors.toList());
        char[][] inputArray = new char[inputList.get(0).length()][inputList.size()];
        for (int i = 0; i < inputList.size(); i++) {
            for (int j = 0; j < inputList.get(i).length(); j++) {
                inputArray[j][i] = inputList.get(i).charAt(j);
            }
        }

//        for (int i = 0; i < inputList.size(); i++) {
//            for (int j = 0; j < inputList.get(i).length(); j++) {
//                System.out.println(inputArray[j][i]);
//            }
//        }
//
//        System.out.println(inputList);

        Day3 day3 = new Day3();
        int result1 = day3.calculate(inputArray, 1, 1);
        int result2 = day3.calculate(inputArray, 3, 1);
        int result3 = day3.calculate(inputArray, 5, 1);
        int result4 = day3.calculate(inputArray, 7, 1);
        int result5 = day3.calculate(inputArray, 1, 2);
        int result = result1 * result2 * result3 * result4 * result5;

        System.out.println("Result is " + result1 + " * " + result2 + " * " + result3 + " * " + result4 + " * " + result5 + " = " + result);
    }
}